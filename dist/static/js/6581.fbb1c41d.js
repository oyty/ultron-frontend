/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2024-08-22 16:46:40
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[6581],{77644:function(e,n,t){t.d(n,{Qb:function(){return o},_R:function(){return i},gp:function(){return l},mn:function(){return d},zj:function(){return s}});var a=t(80484);function i(e){return(0,a.A)({url:"/config/update",method:"post",data:e})}function s(e){return(0,a.A)({url:"/config/fetch",method:"get",params:e})}function o(e){return(0,a.A)({url:"/config/reason/list",method:"get",params:e})}function d(e){return(0,a.A)({url:"/config/reason/destroy",method:"post",data:e})}function l(e){return(0,a.A)({url:"/config/reason/add",method:"post",data:e})}},6581:function(e,n,t){t.r(n),t.d(n,{default:function(){return W}});var a=t(35538),i=(t(25638),t(69675),t(98026)),s=(t(50151),t(50529),t(58388)),o=(t(74808),t(24707)),d=(t(91697),t(46392)),l=(t(7773),t(57305)),c=t(75916);const r={class:"role-management-container"},u=(0,l.Lk)("span",{style:{"font-weight":"bold","font-size":"medium"}}," 孔位引导误差，钻头和孔位在当前误差范围内认为有效 ",-1),p={style:{display:"flex","align-items":"center"}},f={key:1,style:{"margin-left":"40px"}},m=(0,l.Lk)("span",{style:{"font-weight":"bold","font-size":"medium"}}," 目标孔深误差，钻孔深度和目标孔深在当前误差范围内认为有效，可完成钻孔 ",-1),g={style:{display:"flex","align-items":"center"}},h={key:1,style:{"margin-left":"40px"}},y=(0,l.Lk)("span",{style:{"font-weight":"bold","font-size":"medium"}}," 钻孔作业强制结束原因配置 ",-1);function k(e,n,t,k,b,w){const v=d.lq,L=o.S2,_=s.Ik,x=i.o8,C=i.Up,W=(0,l.g2)("edit"),A=a.L;return(0,l.uX)(),(0,l.CE)("div",r,[(0,l.bo)(((0,l.uX)(),(0,l.Wv)(_,{shadow:"hover"},{header:(0,l.k6)((()=>[u])),default:(0,l.k6)((()=>[(0,l.Lk)("div",p,[(0,l.bF)(v,{modelValue:e.distance,"onUpdate:modelValue":n[0]||(n[0]=n=>e.distance=n),label:"孔位引导误差",max:100,min:10,step:1,style:{width:"160px"}},null,8,["modelValue"]),e.isAdmin?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(L,{key:0,style:{"margin-left":"40px"},type:"primary",onClick:e.updateDistance},{default:(0,l.k6)((()=>[(0,l.eW)(" 更新 ")])),_:1},8,["onClick"])),e.isAdmin?((0,l.uX)(),(0,l.CE)("span",f," 当前为管理员用户，显示默认配置 ")):(0,l.Q3)("",!0)])])),_:1})),[[A,e.distanceLoading]]),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(_,{shadow:"hover"},{header:(0,l.k6)((()=>[m])),default:(0,l.k6)((()=>[(0,l.Lk)("div",g,[(0,l.bF)(v,{modelValue:e.deep,"onUpdate:modelValue":n[1]||(n[1]=n=>e.deep=n),label:"钻孔深度误差",max:50,min:10,step:1,style:{width:"160px"}},null,8,["modelValue"]),e.isAdmin?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(L,{key:0,style:{"margin-left":"40px"},type:"primary",onClick:e.updateDeep},{default:(0,l.k6)((()=>[(0,l.eW)(" 更新 ")])),_:1},8,["onClick"])),e.isAdmin?((0,l.uX)(),(0,l.CE)("span",h," 当前为管理员用户，显示默认配置 ")):(0,l.Q3)("",!0)])])),_:1})),[[A,e.deepLoading]]),e.isAdmin?(0,l.Q3)("",!0):(0,l.bo)(((0,l.uX)(),(0,l.Wv)(_,{key:0,shadow:"hover"},{header:(0,l.k6)((()=>[y])),default:(0,l.k6)((()=>[(0,l.bF)(L,{icon:e.Plus,type:"primary",onClick:n[2]||(n[2]=n=>e.handleEdit(n))},{default:(0,l.k6)((()=>[(0,l.eW)(" 添加 ")])),_:1},8,["icon"]),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(C,{border:"",data:e.reasons,style:{width:"420px","margin-top":"20px"}},{default:(0,l.k6)((()=>[(0,l.bF)(x,{align:"center",label:"序号",width:"55"},{default:(0,l.k6)((({$index:e})=>[(0,l.eW)((0,c.v_)(e+1),1)])),_:1}),(0,l.bF)(x,{align:"center",label:"强制结束原因",prop:"reason","show-overflow-tooltip":""}),(0,l.bF)(x,{align:"center",label:"操作","show-overflow-tooltip":"",width:"100"},{default:(0,l.k6)((({row:n})=>[(0,l.bF)(L,{text:"",type:"primary",onClick:t=>e.handleDelete(n)},{default:(0,l.k6)((()=>[(0,l.eW)(" 删除 ")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[A,e.reasonLoading]])])),_:1})),[[A,e.deepLoading]]),(0,l.bF)(W,{ref:"editRef",onFetchData:e.fetchReasons},null,8,["onFetchData"])])}var b=t(77644),w=t(71516),v=t(70817),L=(0,l.pM)({name:"TConfig",components:{Edit:(0,l.$V)((()=>t.e(4634).then(t.bind(t,62253))))},setup(){const e=(0,l.WQ)("$baseConfirm"),n=(0,l.WQ)("$baseMessage"),t=(0,v.Kh)({editRef:null,distanceLoading:!1,isAdmin:!1,distance:10,deepLoading:!1,deep:10,reasons:[],reasonLoading:!1}),a=async()=>{t.distanceLoading=!0;const{msg:e}=await(0,b._R)({distance:t.distance});n(e,"success","vab-hey-message-success"),t.distanceLoading=!1},i=async()=>{t.deepLoading=!0;const{msg:e}=await(0,b._R)({deep:t.deep});n(e,"success","vab-hey-message-success"),t.deepLoading=!1},s=t=>{t.id&&e("你确定要删除当前项吗",null,(async()=>{const{msg:e}=await(0,b.mn)({id:t.id});n(e,"success","vab-hey-message-success"),await d()}))},o=async()=>{const{data:{distance:e,deep:n,is_admin:a}}=await(0,b.zj)();t.isAdmin=1===a,t.distance=e,t.deep=n},d=async()=>{t.reasonLoading=!0;const{data:e}=await(0,b.Qb)();t.reasons=e,t.reasonLoading=!1},c=()=>{t["editRef"].showEdit()};return(0,l.sV)((()=>{o(),d()})),{...(0,v.QW)(t),handleDelete:s,fetchData:o,fetchReasons:d,updateDistance:a,updateDeep:i,handleEdit:c,Delete:w.Delete,Plus:w.Plus,Search:w.Search}}});function _(e){e.__source="src/views/companyconfig/tconfig/index.vue"}var x=t(88093);"function"===typeof _&&_(L);const C=(0,x.A)(L,[["render",k]]);var W=C}}]);