/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2024-08-22 16:46:40
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[3963,7787],{76704:function(e,t,l){l.d(t,{Ed:function(){return n},pL:function(){return r},vS:function(){return o}});var a=l(80484);function o(e){return(0,a.A)({url:"/table/getList",method:"get",params:e})}function n(e){return(0,a.A)({url:"/table/doEdit",method:"post",data:e})}function r(e){return(0,a.A)({url:"/table/doDelete",method:"post",data:e})}},95873:function(e,t,l){l.d(t,{A:function(){return d}});var a=l(85999),o=(l(25638),l(27349),l(57305));const n={class:"left-panel"};var r=(0,o.pM)({__name:"VabQueryFormLeftPanel",props:{span:{type:Number,default:14}},setup(e){return(t,l)=>{const r=a.uD;return(0,o.uX)(),(0,o.Wv)(r,{lg:e.span,md:24,sm:24,xl:e.span,xs:24},{default:(0,o.k6)((()=>[(0,o.Lk)("div",n,[(0,o.RG)(t.$slots,"default")])])),_:3},8,["lg","xl"])}}});function i(e){e.__source="library/components/VabQueryForm/components/VabQueryFormLeftPanel.vue"}"function"===typeof i&&i(r);const u=r;var d=u},73727:function(e,t,l){l.d(t,{A:function(){return c}});var a=l(85999),o=(l(25638),l(27349),l(57305));const n={class:"top-panel"};function r(e,t){const l=a.uD;return(0,o.uX)(),(0,o.Wv)(l,{span:24},{default:(0,o.k6)((()=>[(0,o.Lk)("div",n,[(0,o.RG)(e.$slots,"default")])])),_:3})}function i(e){e.__source="library/components/VabQueryForm/components/VabQueryFormTopPanel.vue"}var u=l(88093);const d={};"function"===typeof i&&i(d);const s=(0,u.A)(d,[["render",r]]);var c=s},46017:function(e,t,l){l.d(t,{A:function(){return s}});var a=l(514),o=(l(25638),l(78759),l(57305));function n(e,t){const l=a.S2;return(0,o.uX)(),(0,o.Wv)(l,{class:"vab-query-form",gutter:0},{default:(0,o.k6)((()=>[(0,o.RG)(e.$slots,"default",{},void 0,!0)])),_:3})}function r(e){e.__source="library/components/VabQueryForm/index.vue"}var i=l(88093);const u={};"function"===typeof r&&r(u);const d=(0,i.A)(u,[["render",n],["__scopeId","data-v-172989c8"]]);var s=d},56344:function(e,t,l){l.r(t),l.d(t,{default:function(){return G}});var a=l(35538),o=(l(25638),l(69675),l(13143)),n=(l(951),l(98026)),r=(l(50151),l(88163)),i=(l(10444),l(32713)),u=(l(67657),l(29937)),d=(l(97262),l(66572)),s=(l(54052),l(19507)),c=(l(84651),l(46614)),b=(l(27367),l(50529),l(46017)),p=l(95873),m=l(6380),f=(l(88589),l(73727)),h=l(29313),y=(l(11501),l(24707)),F=(l(91697),l(12118),l(35084)),g=(l(70752),l(65777)),k=(l(31004),l(57305)),v=l(27450),w=l(75916);const _={class:"comprehensive-table-container"},C={key:0},V={key:1};function q(e,t,l,q,S,R){const W=g.KR,D=F.WK,L=h.xE,A=y.S2,U=(0,k.g2)("vab-icon"),E=h.US,$=f.A,x=m.z_,z=p.A,Q=b.A,G=n.o8,N=c.og,T=s.Zq,M=d.qi,P=u.R7,X=i.u,K=r.x0,j=n.Up,H=o.aQ,Z=(0,k.g2)("edit"),I=a.L;return(0,k.uX)(),(0,k.CE)("div",_,[(0,k.bF)(W,{closable:!1,"show-icon":"",title:"三级路由【缓存路由、固定表格高度、并根据窗口大小自适应】的示例。详情页请点击操作列按钮，支持tab多开并高亮左侧菜单",type:"success"}),(0,k.bF)(Q,null,{default:(0,k.k6)((()=>[(0,k.bF)($,null,{default:(0,k.k6)((()=>[(0,k.bF)(E,{inline:"","label-width":"49px",model:e.queryForm,onSubmit:t[11]||(t[11]=(0,v.D$)((()=>{}),["prevent"]))},{default:(0,k.k6)((()=>[(0,k.bF)(L,{label:"标题"},{default:(0,k.k6)((()=>[(0,k.bF)(D,{modelValue:e.queryForm.title,"onUpdate:modelValue":t[0]||(t[0]=t=>e.queryForm.title=t),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1}),(0,k.bF)(L,{label:"标题"},{default:(0,k.k6)((()=>[(0,k.bF)(D,{modelValue:e.queryForm.title,"onUpdate:modelValue":t[1]||(t[1]=t=>e.queryForm.title=t),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1}),(0,k.bo)((0,k.bF)(L,{label:"标题"},{default:(0,k.k6)((()=>[(0,k.bF)(D,{modelValue:e.queryForm.title,"onUpdate:modelValue":t[2]||(t[2]=t=>e.queryForm.title=t),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1},512),[[v.aG,!e.fold]]),(0,k.bo)((0,k.bF)(L,{label:"标题"},{default:(0,k.k6)((()=>[(0,k.bF)(D,{modelValue:e.queryForm.title,"onUpdate:modelValue":t[3]||(t[3]=t=>e.queryForm.title=t),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1},512),[[v.aG,!e.fold]]),(0,k.bo)((0,k.bF)(L,{label:"标题"},{default:(0,k.k6)((()=>[(0,k.bF)(D,{modelValue:e.queryForm.title,"onUpdate:modelValue":t[4]||(t[4]=t=>e.queryForm.title=t),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1},512),[[v.aG,!e.fold]]),(0,k.bo)((0,k.bF)(L,{label:"标题"},{default:(0,k.k6)((()=>[(0,k.bF)(D,{modelValue:e.queryForm.title,"onUpdate:modelValue":t[5]||(t[5]=t=>e.queryForm.title=t),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1},512),[[v.aG,!e.fold]]),(0,k.bo)((0,k.bF)(L,{label:"标题"},{default:(0,k.k6)((()=>[(0,k.bF)(D,{modelValue:e.queryForm.title,"onUpdate:modelValue":t[6]||(t[6]=t=>e.queryForm.title=t),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1},512),[[v.aG,!e.fold]]),(0,k.bo)((0,k.bF)(L,{label:"标题"},{default:(0,k.k6)((()=>[(0,k.bF)(D,{modelValue:e.queryForm.title,"onUpdate:modelValue":t[7]||(t[7]=t=>e.queryForm.title=t),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1},512),[[v.aG,!e.fold]]),(0,k.bo)((0,k.bF)(L,{label:"标题"},{default:(0,k.k6)((()=>[(0,k.bF)(D,{modelValue:e.queryForm.title,"onUpdate:modelValue":t[8]||(t[8]=t=>e.queryForm.title=t),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1},512),[[v.aG,!e.fold]]),(0,k.bo)((0,k.bF)(L,{label:"标题"},{default:(0,k.k6)((()=>[(0,k.bF)(D,{modelValue:e.queryForm.title,"onUpdate:modelValue":t[9]||(t[9]=t=>e.queryForm.title=t),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1},512),[[v.aG,!e.fold]]),(0,k.bo)((0,k.bF)(L,{label:"标题"},{default:(0,k.k6)((()=>[(0,k.bF)(D,{modelValue:e.queryForm.title,"onUpdate:modelValue":t[10]||(t[10]=t=>e.queryForm.title=t),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1},512),[[v.aG,!e.fold]]),(0,k.bF)(L,null,{default:(0,k.k6)((()=>[(0,k.bF)(A,{icon:e.Search,"native-type":"submit",type:"primary",onClick:e.queryData},{default:(0,k.k6)((()=>[(0,k.eW)(" 查询 ")])),_:1},8,["icon","onClick"]),(0,k.bF)(A,{text:"",type:"primary",onClick:e.handleFold},{default:(0,k.k6)((()=>[e.fold?((0,k.uX)(),(0,k.CE)("span",C,"展开")):((0,k.uX)(),(0,k.CE)("span",V,"合并")),(0,k.bF)(U,{class:(0,w.C4)(["vab-dropdown",{"vab-dropdown-active":e.fold}]),icon:"arrow-up-s-line"},null,8,["class"])])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])])),_:1}),(0,k.bF)(z,{span:24},{default:(0,k.k6)((()=>[(0,k.bF)(A,{icon:e.Plus,type:"primary",onClick:e.handleAdd},{default:(0,k.k6)((()=>[(0,k.eW)(" 添加 ")])),_:1},8,["icon","onClick"]),(0,k.bF)(A,{icon:e.Delete,type:"danger",onClick:t[12]||(t[12]=t=>e.handleDelete(t))},{default:(0,k.k6)((()=>[(0,k.eW)(" 删除 ")])),_:1},8,["icon"]),(0,k.bF)(A,{type:"primary",onClick:e.handleMessage},{default:(0,k.k6)((()=>[(0,k.eW)(" $baseMessage ")])),_:1},8,["onClick"]),(0,k.bF)(A,{type:"primary",onClick:e.handleAlert},{default:(0,k.k6)((()=>[(0,k.eW)("$baseAlert")])),_:1},8,["onClick"]),(0,k.bF)(A,{type:"primary",onClick:e.handleConfirm},{default:(0,k.k6)((()=>[(0,k.eW)(" $baseConfirm ")])),_:1},8,["onClick"]),(0,k.bF)(A,{type:"primary",onClick:e.handleNotify},{default:(0,k.k6)((()=>[(0,k.eW)("$baseNotify")])),_:1},8,["onClick"]),(0,k.bF)(A,{type:"primary",onClick:e.handleDetailStayTable},{default:(0,k.k6)((()=>[(0,k.eW)(" 停留在本页后台打开详情页后（不常用） ")])),_:1},8,["onClick"]),(0,k.bF)(x,{class:"item",value:"New"},{default:(0,k.k6)((()=>[(0,k.bF)(A,{style:{margin:"0 0 10px !important"},type:"primary",onClick:e.handleDetail},{default:(0,k.k6)((()=>[(0,k.eW)(" 详情页支持tab多开并高亮左侧菜单 ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),(0,k.bo)(((0,k.uX)(),(0,k.Wv)(j,{ref:"tableSortRef",border:"",data:e.list,height:e.height,onSelectionChange:e.setSelectRows,onSortChange:e.tableSortChange},{empty:(0,k.k6)((()=>[(0,k.bF)(K,{class:"vab-data-empty",description:"暂无数据"})])),default:(0,k.k6)((()=>[(0,k.bF)(G,{align:"center","show-overflow-tooltip":"",type:"selection",width:"55"}),(0,k.bF)(G,{align:"center",label:"序号","show-overflow-tooltip":"",width:"55"},{default:(0,k.k6)((({$index:e})=>[(0,k.eW)((0,w.v_)(e+1),1)])),_:1}),(0,k.bF)(G,{align:"center",label:"标题",prop:"title","show-overflow-tooltip":""}),(0,k.bF)(G,{align:"center",label:"作者",prop:"author","show-overflow-tooltip":""}),(0,k.bF)(G,{align:"center",label:"评级"},{default:(0,k.k6)((({row:e})=>[(0,k.bF)(N,{modelValue:e.rate,"onUpdate:modelValue":t=>e.rate=t,disabled:""},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,k.bF)(G,{align:"center",label:"头像"},{default:(0,k.k6)((({row:t})=>[(0,k.bF)(T,{"preview-src-list":e.imageList,"preview-teleported":"",src:t.img},null,8,["preview-src-list","src"])])),_:1}),(0,k.bF)(G,{align:"center",label:"点击量",prop:"pageViews","show-overflow-tooltip":"",sortable:""}),(0,k.bF)(G,{align:"center",label:"开关",prop:"switch","show-overflow-tooltip":""},{default:(0,k.k6)((({row:e})=>[(0,k.bF)(P,{content:0===e.switch?"点击开启":"点击关闭",enterable:!1,placement:"top"},{default:(0,k.k6)((()=>[(0,k.bF)(M,{modelValue:e.switch,"onUpdate:modelValue":t=>e.switch=t},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["content"])])),_:1}),(0,k.bF)(G,{align:"center",label:"状态","show-overflow-tooltip":""},{default:(0,k.k6)((({row:t})=>[(0,k.bF)(P,{class:"item",content:t.status,effect:"dark",placement:"top-start"},{default:(0,k.k6)((()=>[(0,k.bF)(X,{type:e.statusFilter(t.status)},{default:(0,k.k6)((()=>[(0,k.eW)((0,w.v_)(t.status),1)])),_:2},1032,["type"])])),_:2},1032,["content"])])),_:1}),(0,k.bF)(G,{align:"center",label:"时间",prop:"datetime","show-overflow-tooltip":"",width:"200"}),(0,k.bF)(G,{align:"center",fixed:"right",label:"操作","show-overflow-tooltip":"",width:"200"},{default:(0,k.k6)((({row:t})=>[(0,k.bF)(A,{text:"",type:"primary",onClick:l=>e.handleDetail(t)},{default:(0,k.k6)((()=>[(0,k.eW)(" 详情 ")])),_:2},1032,["onClick"]),(0,k.bF)(A,{text:"",type:"primary",onClick:l=>e.handleEdit(t)},{default:(0,k.k6)((()=>[(0,k.eW)(" 编辑 ")])),_:2},1032,["onClick"]),(0,k.bF)(A,{text:"",type:"primary",onClick:l=>e.handleDelete(t)},{default:(0,k.k6)((()=>[(0,k.eW)(" 删除 ")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","height","onSelectionChange","onSortChange"])),[[I,e.listLoading]]),(0,k.bF)(H,{background:"","current-page":e.queryForm.pageNo,layout:e.layout,"page-size":e.queryForm.pageSize,total:e.total,onCurrentChange:e.handleCurrentChange,onSizeChange:e.handleSizeChange},null,8,["current-page","layout","page-size","total","onCurrentChange","onSizeChange"]),(0,k.bF)(Z,{ref:"editRef",onFetchData:e.fetchData},null,8,["onFetchData"])])}l(86043);var S=l(74863),R=l(44017),W=l(76704),D=l(70679),L=l(71516),A=l(70817),U=l(5879),E=l(11544),$=(0,k.pM)({name:"ComprehensiveTable",components:{Edit:(0,k.$V)((()=>l.e(4978).then(l.bind(l,64978))))},setup(){const e=(0,U.rd)(),t=(0,k.WQ)("$baseConfirm"),l=(0,k.WQ)("$baseMessage"),a=(0,k.WQ)("$baseAlert"),o=(0,k.WQ)("$baseNotify"),n=(0,k.WQ)("$baseTableHeight"),r=(0,R.j)(),{getRoutes:i}=(0,E.bP)(r),u=(0,S.Z)(),{changeTabsMeta:d,addVisitedRoute:s}=u,c=(0,A.Kh)({editRef:null,tableSortRef:null,fold:!1,height:n(3)-30,list:[],imageList:[],listLoading:!0,layout:"total, sizes, prev, pager, next, jumper",total:0,selectRows:"",queryForm:{pageNo:1,pageSize:10}});(0,k.n)((()=>{c["tableSortRef"].doLayout(),b()}));const b=async()=>{c.listLoading=!0;const{data:{list:e,total:t}}=await(0,W.vS)(c.queryForm);c.list=e;const l=[];e.forEach((e=>{l.push(e.img)})),c.imageList=l,c.total=t,c.listLoading=!1,setTimeout((()=>{G([c.list[0]])}),0)},p=e=>{c.queryForm.pageSize=e,b()},m=e=>{c.queryForm.pageNo=e,b()},f=()=>{c.queryForm.pageNo=1,b()},h=e=>{const t={published:"success",draft:"",deleted:"danger"};return t[e]},y=()=>{c.fold=!c.fold,F()},F=()=>{c.fold?c.height=n(2)-47:c.height=n(3)-30},g=()=>{const e=[];c.list.forEach((t=>{e.push(t.img)})),c.imageList=e},v=e=>{c.selectRows=e},w=()=>{c["editRef"].showEdit()},_=e=>{c["editRef"].showEdit(e)},C=e=>{if(e.id)t("你确定要删除当前项吗",null,(async()=>{const{msg:t}=await(0,W.pL)({ids:e.id});l(t,"success","vab-hey-message-success"),await b()}));else if(c.selectRows.length>0){const e=c.selectRows.map((e=>e.id)).join();t("你确定要删除选中项吗",null,(async()=>{const{msg:t}=await(0,W.pL)({ids:e});l(t,"success","vab-hey-message-success"),await b()}))}else l("未选中任何行","error","vab-hey-message-error")},V=async()=>{for(let e=0;e<c.selectRows.length;e++){const t=(0,D.n7)(i.value,"/vab/table/detail"),l=(0,D.l5)({...t[t.length-1],query:c.selectRows[e]});l&&(await s(l),await d({title:"详情页",meta:{title:`${l.query.title} 详情页`}}))}},q=t=>{t.id?e.push({path:"/vab/table/detail",query:{...t,timestamp:(new Date).getTime()}}):1===c.selectRows.length?e.push({path:"/vab/table/detail",query:{...c.selectRows[0],timestamp:(new Date).getTime()}}):l("请选择一行进行详情页跳转","error","vab-hey-message-error")},$=()=>{l("test1","success",!1,"vab-hey-message-success")},x=()=>{a("11")},z=()=>{t("你确定要执行该操作?",null,(()=>{}),(()=>{}))},Q=()=>{o("测试消息提示","test","success","bottom-right")},G=e=>{e?e.forEach((e=>{c["tableSortRef"].toggleRowSelection(e)})):c["tableSortRef"].clearSelection()};return(0,k.KC)((()=>{window.addEventListener("resize",F)})),(0,k.hi)((()=>{window.removeEventListener("resize",F)})),(0,k.sV)((()=>{b()})),{...(0,A.QW)(c),handleSizeChange:p,handleCurrentChange:m,queryData:f,statusFilter:h,handleFold:y,handleHeight:F,tableSortChange:g,setSelectRows:v,handleAdd:w,handleEdit:_,handleDelete:C,handleDetailStayTable:V,handleDetail:q,handleMessage:$,handleAlert:x,handleConfirm:z,handleNotify:Q,fetchData:b,Delete:L.Delete,Plus:L.Plus,Search:L.Search}}});function x(e){e.__source="src/views/vab/table/comprehensiveTable.vue"}var z=l(88093);"function"===typeof x&&x($);const Q=(0,z.A)($,[["render",q]]);var G=Q}}]);