/*!
 *  build: Vue  Admin Plus
 *  copyright: vue-admin-beautiful.com
 *  time: 2024-08-21 17:45:49
 */
"use strict";(self["webpackChunkadmin_plus"]=self["webpackChunkadmin_plus"]||[]).push([[2242],{12242:function(e,r,l){l.r(r),l.d(r,{default:function(){return R}});var t=l(514),o=(l(25638),l(78759),l(29313)),a=(l(11501),l(24707)),s=(l(91697),l(12118),l(35084)),i=(l(70752),l(85999)),n=(l(27349),l(57305)),d=l(75916),u=l(27450);const p=e=>((0,n.Qi)("data-v-29a185ee"),e=e(),(0,n.jt)(),e),m={class:"register-container"},c=p((()=>(0,n.Lk)("div",{style:{color:"transparent"}},"占位符",-1))),f=p((()=>(0,n.Lk)("div",{class:"title"},"hello !",-1))),g={class:"title-tips"},h=p((()=>(0,n.Lk)("div",{style:{color:"transparent"}},"占位符",-1)));function b(e,r,l,p,b,k){const v=i.uD,_=(0,n.g2)("vab-icon"),F=s.WK,T=o.xE,w=a.S2,x=(0,n.g2)("router-link"),C=o.US,y=t.S2,V=(0,n.gN)("focus");return(0,n.uX)(),(0,n.CE)("div",m,[(0,n.bF)(y,null,{default:(0,n.k6)((()=>[(0,n.bF)(v,{lg:14,md:11,sm:24,xl:14,xs:24},{default:(0,n.k6)((()=>[c])),_:1}),(0,n.bF)(v,{lg:9,md:12,sm:24,xl:9,xs:24},{default:(0,n.k6)((()=>[(0,n.bF)(C,{ref:"registerFormRef",class:"register-form",model:e.form,rules:e.registerRules},{default:(0,n.k6)((()=>[f,(0,n.Lk)("div",g,(0,d.v_)(e.translateTitle("注册")),1),(0,n.bF)(T,{prop:"username"},{default:(0,n.k6)((()=>[(0,n.bo)(((0,n.uX)(),(0,n.Wv)(F,{modelValue:e.form.username,"onUpdate:modelValue":r[0]||(r[0]=r=>e.form.username=r),modelModifiers:{trim:!0},"auto-complete":"off",placeholder:e.translateTitle("请输入用户名"),type:"text"},{prefix:(0,n.k6)((()=>[(0,n.bF)(_,{icon:"user-line"})])),_:1},8,["modelValue","placeholder"])),[[V]])])),_:1}),(0,n.bF)(T,{prop:"phone"},{default:(0,n.k6)((()=>[(0,n.bF)(F,{modelValue:e.form.phone,"onUpdate:modelValue":r[1]||(r[1]=r=>e.form.phone=r),modelModifiers:{trim:!0},maxlength:"11",placeholder:e.translateTitle("请输入手机号"),"show-word-limit":"",type:"text"},{prefix:(0,n.k6)((()=>[(0,n.bF)(_,{icon:"smartphone-line"})])),_:1},8,["modelValue","placeholder"])])),_:1}),(0,n.bF)(T,{prop:"phoneCode",style:{position:"relative"}},{default:(0,n.k6)((()=>[(0,n.bF)(F,{modelValue:e.form.phoneCode,"onUpdate:modelValue":r[2]||(r[2]=r=>e.form.phoneCode=r),modelModifiers:{trim:!0},placeholder:e.translateTitle("请输入手机验证码"),type:"text"},{prefix:(0,n.k6)((()=>[(0,n.bF)(_,{icon:"barcode-box-line"})])),_:1},8,["modelValue","placeholder"]),(0,n.bF)(w,{class:"phone-code",disabled:e.isGetPhone,type:"primary",onClick:e.getPhoneCode},{default:(0,n.k6)((()=>[(0,n.eW)((0,d.v_)(e.phoneCode),1)])),_:1},8,["disabled","onClick"])])),_:1}),(0,n.bF)(T,{prop:"password"},{default:(0,n.k6)((()=>[(0,n.bF)(F,{modelValue:e.form.password,"onUpdate:modelValue":r[3]||(r[3]=r=>e.form.password=r),modelModifiers:{trim:!0},autocomplete:"new-password",placeholder:e.translateTitle("请输入密码"),type:"password"},{prefix:(0,n.k6)((()=>[(0,n.bF)(_,{icon:"lock-line"})])),_:1},8,["modelValue","placeholder"])])),_:1}),(0,n.bF)(T,null,{default:(0,n.k6)((()=>[(0,n.bF)(w,{class:"register-btn",type:"primary",onClick:(0,u.D$)(e.handleRegister,["prevent"])},{default:(0,n.k6)((()=>[(0,n.eW)((0,d.v_)(e.translateTitle("注册")),1)])),_:1},8,["onClick"])])),_:1}),(0,n.bF)(T,null,{default:(0,n.k6)((()=>[(0,n.bF)(x,{to:"/login"},{default:(0,n.k6)((()=>[(0,n.eW)((0,d.v_)(e.translateTitle("登录")),1)])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1}),(0,n.bF)(v,{lg:1,md:1,sm:24,xl:1,xs:24},{default:(0,n.k6)((()=>[h])),_:1})])),_:1})])}l(86043);var k=l(64829),v=l(85227),_=l(57448),F=l(282),T=l(70817),w=l(5879),x=(0,n.pM)({name:"Register",directives:{focus:{inserted(e){e.querySelector("input").focus()}}},setup(){const e=(0,n.WQ)("$baseConfirm"),r=(0,w.rd)(),l=(0,F.k)(),{setToken:t}=l,o=(e,r,l)=>{""===r?l(new Error((0,k.Tl)("用户名不能为空"))):l()},a=(e,r,l)=>{(0,v.Ij)(r)?l():l(new Error((0,k.Tl)("密码不能少于6位")))},s=(e,r,l)=>{(0,v.tp)(r)?l():l(new Error((0,k.Tl)("请输入正确的手机号")))},i=(0,T.Kh)({registerFormRef:null,isGetPhone:!1,timer:null,phoneCode:(0,k.Tl)("获取验证码"),showRegister:!1,form:{},registerRules:{username:[{required:!0,trigger:"blur",message:(0,k.Tl)("请输入用户名")},{validator:o,trigger:"blur"}],phone:[{required:!0,trigger:"blur",message:(0,k.Tl)("请输入手机号")},{validator:s,trigger:"blur"}],password:[{required:!0,trigger:"blur",message:(0,k.Tl)("请输入密码")},{validator:a,trigger:"blur"}],phoneCode:[{required:!0,trigger:"blur",message:(0,k.Tl)("请输入手机验证码")}]},loading:!1,passwordType:"password"}),d=()=>{if(!(0,v.tp)(i.form.phone))return void i["registerFormRef"].validateField("phone");i.isGetPhone=!0;let e=60;i.timer=setInterval((()=>{e>0?(e--,i.phoneCode=`${(0,k.Tl)("获取验证码 ")+e}s`):(clearInterval(i.timer),i.phoneCode=(0,k.Tl)("获取验证码"),i.timer=null,i.isGetPhone=!1)}),1e3)},u=()=>{i["registerFormRef"].validate((async l=>{if(l){const{msg:l,data:{token:o}}=await(0,_.kz)(i.form).catch((()=>{}));e(`${l}，点击确定模拟进入拥有【editor】角色的首页`,null,(async()=>{t(o),await r.push("/index")}))}}))};return(0,w.JZ)(((e,r,l)=>{clearInterval(i.timer),l()})),{translateTitle:k.Tl,...(0,T.QW)(i),getPhoneCode:d,handleRegister:u}}});function C(e){e.__source="src/views/register/index.vue"}var y=l(88093);"function"===typeof C&&C(x);const V=(0,y.A)(x,[["render",b],["__scopeId","data-v-29a185ee"]]);var R=V}}]);